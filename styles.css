:root{ --green:#2E7D32; --text:#111; --muted:#666; --card:#fff; --shadow:0 6px 16px rgba(17,17,17,.08); }
*{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter;color:var(--text);background:#fff}
.app-header{position:sticky;top:0;z-index:40;display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px 14px;border-bottom:1px solid #eee;background:#fff}
.brand{font-weight:800} .hours{font-size:12px;color:var(--muted)} .hours.ok{color:var(--green);background:#eef6ee;padding:6px 10px;border-radius:999px;font-weight:700}
.geo-banner{display:none;padding:8px 12px;border-bottom:1px solid #eee;font-size:14px}
.geo-banner.ok{display:block;background:#eef6ee;color:#224a25}
.geo-banner.bad{display:block;background:#fff3f0;color:#7a2e21}
.delivery-mode{margin-bottom:8px;font-weight:700}

.tabs{display:flex;gap:8px;overflow-x:auto;padding:8px 12px;border-bottom:1px solid #eee}
.tabs a{flex:0 0 auto;text-decoration:none;color:#333;background:#fafafa;padding:8px 12px;border-radius:999px;border:1px solid #e8e8e8;font-size:14px;font-weight:600}
.tabs a.active{background:var(--green);color:#fff;border-color:var(--green)}

.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:12px 12px 84px}
.card{background:var(--card);border:1px solid #eee;border-radius:16px;overflow:hidden;box-shadow:var(--shadow)}
.thumb{aspect-ratio:1/1;width:100%;object-fit:cover;background:#fafafa;display:block}
.card-body{padding:10px 12px;display:flex;flex-direction:column;gap:6px}
.title{font-weight:700;font-size:15px;line-height:1.2;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:2.4em}
.price{font-weight:800;font-size:16px}
.actions{display:flex;align-items:center;justify-content:space-between;gap:8px}
.btn{padding:8px 12px;border-radius:999px;border:1px solid var(--green);background:#2E7D32;color:#fff;font-weight:700}

.sheet{position:fixed;inset:0;display:none;z-index:60} .sheet.show{display:block}
.sheet__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.25)}
.sheet__panel{position:absolute;left:0;right:0;bottom:0;background:#fff;border-radius:16px 16px 0 0;box-shadow:0 -8px 24px rgba(0,0,0,.15);transform:translateY(12px);transition:transform .18s ease;max-height:85vh;display:flex;flex-direction:column}
.sheet.show .sheet__panel{transform:translateY(0)}
.sheet__handle{width:44px;height:5px;background:#ddd;border-radius:999px;margin:8px auto 4px}
.sheet__content{padding:8px 14px 14px;overflow:auto}
.sheet-img{width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:12px;background:#f6f6f6;margin-bottom:6px}
.desc{color:var(--muted);font-size:14px}

/* зелёный крестик закрыть (в шите) */
.sheet__x{position:absolute;right:10px;top:10px;background:#2E7D32;color:#fff;border:none;width:32px;height:32px;border-radius:50%;font-weight:800}

/* красивые чипсы */
.options{display:flex;flex-wrap:wrap;gap:8px;margin:6px 0 8px}
.options-chips .opt{padding:10px 14px;border-radius:14px;border:1.5px solid #e3e3e3;background:#fcfcfc;font-weight:600}
.opt.active{border-color:var(--green);background:#eef6ee;box-shadow:inset 0 0 0 1px rgba(46,125,50,.15)}
.opt-title{font-weight:700;margin-top:8px}
.opt-hint{font-size:12px;color:var(--muted);margin-top:-2px}
.opt-inline{display:flex;align-items:center;gap:8px}
.opt-subrow{margin-top:6px}

.qty{display:flex;align-items:center;gap:12px;margin:8px 0}
.qty button,.qtybtn{width:36px;height:36px;border-radius:50%;border:1px solid #e6e6e6;background:#f7f7f7;font-weight:800}
.add-btn{width:100%;padding:12px 14px;background:#2E7D32;color:#fff;border:none;border-radius:12px;font-weight:800}

.cartbar{position:sticky;bottom:0;z-index:50;display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px;background:#fff;border-top:1px solid #eee}
.cartbar.hidden{display:none}
.cartbar__cta{padding:10px 14px;border-radius:999px;background:#2E7D32;color:#fff;font-weight:800;border:none}
.cartbar__summary{display:flex;align-items:center;gap:6px;font-weight:600}
.cartbar__icon{width:18px;height:18px;color:var(--green);background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%232E7D32" viewBox="0 0 24 24"><path d="M6 6h15l-2 10H8L6 6Zm-2 0H2V4h2l1 2Zm4 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm10 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM6 6H4l3 11h12l2-8H8l-1-3Zm0 0H4"/></svg>') no-repeat center/contain}

/* checkout */
.checkout{position:fixed;inset:0;display:none;z-index:70} .checkout.show{display:block}
.checkout__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.25)}
.checkout__panel{position:absolute;right:0;top:0;bottom:0;width:min(560px,100%);background:#fff;border-left:1px solid #eee;display:flex;flex-direction:column}
.checkout__header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #eee}
.checkout__body{padding:12px 14px;display:flex;flex-direction:column;gap:12px;overflow:auto}
.checkout__body label{display:flex;flex-direction:column;gap:6px;font-size:14px}
.checkout__body input, .checkout__body textarea{padding:10px 12px;border:1px solid #e5e5e5;border-radius:10px}
.checkout__body textarea{min-height:84px;resize:vertical}

.summary{border:1px solid #eee;border-radius:12px;padding:10px}
.total{display:flex;align-items:center;justify-content:space-between;font-weight:800;margin-top:8px}

.segment{display:flex;gap:8px}
.segment .seg{flex:1 1 0;border:1px solid #e8e8e8;background:#fafafa;border-radius:999px;padding:8px 10px;font-weight:700}
.segment .seg.active{background:#2E7D32;color:#fff;border-color:#2E7D32}

.address-grid{display:grid;grid-template-columns:1fr 120px 1fr 1fr;gap:8px}

.wa-btn{padding:12px 14px;border-radius:12px;background:#25D366;color:#fff;border:none;font-weight:800}

/* flavors showcase */
.opt.flavor{display:flex;align-items:center;gap:8px;padding:10px 12px;border:1px solid rgba(0,0,0,.08);border-radius:12px}
.opt.flavor .nm{flex:1}
.opt.flavor .heat{font-size:14px;opacity:.9}
.muted{color:#777;font-size:12px}

/* UI fonts */
:root{--fg:#111;--muted:#6b7280;--brand:#2E7D32}
html,body{font-family:Inter,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans',sans-serif}
#sheetTitle{color:var(--fg);font-weight:600;letter-spacing:.2px}
#sheetDesc{color:var(--muted);line-height:1.45;margin-top:4px}
/* Flavor pills equal sizing */
#flavorOptions{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}
.opt.flavor .nm{font-weight:500}
.opt.flavor .dot{width:12px;height:12px;border-radius:999px;border:1px solid rgba(0,0,0,.08);margin-right:6px}

/* зелёный крестик в чекауте */
#coClose{
  width:32px;height:32px;border-radius:50%;
  border:1px solid #dfe5df;background:#f7faf7;color:var(--green);
  font-weight:800; display:inline-grid; place-items:center; cursor:pointer;
}
#coClose:hover{background:#eef6ee;border-color:#cfe5cf}

/* кликабельная сводка корзины */
.cartbar__summary{cursor:pointer}
.cartbar__summary:hover{background:#f7f7f7;border-radius:10px}
